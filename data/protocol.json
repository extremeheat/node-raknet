
{
  "packet_ACK": [
    "container",
    []
  ],
  "packet_NACK": [
    "container",
    []
  ],
  "packet_ADVERTISE_SYSTEM": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      },
      {
        "name": "serverID",
        "type": "long"
      },
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "serverName",
        "type": "string"
      }
    ]
  ],
  "packet_CLIENT_CONNECT_DataPacket": [
    "container",
    [
      {
        "name": "clientID",
        "type": "long"
      },
      {
        "name": "sendPing",
        "type": "long"
      },
      {
        "name": "useSecurity",
        "type": "byte"
      }
    ]
  ],
  "packet_CLIENT_DISCONNECT_DataPacket": [
    "container",
    []
  ],
  "packet_CLIENT_HANDSHAKE_DataPacket": [
    "container",
    [
      {
        "name": "address",
        "type": "ipAddress"
      },
      {
        "name": "port",
        "type": "short"
      },
      {
        "name": "version",
        "type": "byte"
      },
      {
        "name": "systemAddresses",
        "type": [
          "array",
          {
            "count": 10,
            "type": [
              "container",
              [
                {
                  "name": "address",
                  "type": "ipAddress"
                },
                {
                  "name": "port",
                  "type": "short"
                },
                {
                  "name": "version",
                  "type": "byte"
                }
              ]
            ]
          }
        ]
      }
    ]
  ],
  "packet_OPEN_CONNECTION_REPLY_1": [
    "container",
    [
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "serverID",
        "type": "long"
      },
      {
        "name": "serverSecurity",
        "type": "byte"
      },
      {
        "name": "mtuSize",
        "type": "short"
      }
    ]
  ],
  "packet_OPEN_CONNECTION_REPLY_2": [
    "container",
    [
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "serverID",
        "type": "long"
      },
      {
        "name": "clientAddress",
        "type": "ipAddress"
      },
      {
        "name": "clientPort",
        "type": "short"
      },
      {
        "name": "mtuSize",
        "type": "short"
      },
      {
        "name": "serverSecurity",
        "type": "byte"
      }
    ]
  ],
  "packet_OPEN_CONNECTION_REQUEST_1": [
    "container",
    [
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "protocol",
        "type": "byte"
      },
      {
        "name": "mtuSize",
        "type": "restBuffer"
      }
    ]
  ],
  "packet_OPEN_CONNECTION_REQUEST_2": [
    "container",
    [
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "serverAddress",
        "type": "ipAddress"
      },
      {
        "name": "serverPort",
        "type": "short"
      },
      {
        "name": "version",
        "type": "byte"
      },
      {
        "name": "mtuSize",
        "type": "short"
      },
      {
        "name": "clientID",
        "type": "long"
      }
    ]
  ],
  "packet_PING_DataPacket": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      }
    ]
  ],
  "packet_PONG_DataPacket": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      }
    ]
  ],
  "packet_SERVER_HANDSHAKE_DataPacket": [
    "container",
    [
      {
        "name": "address",
        "type": "ipAddress"
      },
      {
        "name": "port",
        "type": "short"
      },
      {
        "name": "version",
        "type": "byte"
      },
      {
        "name": "serverSecurity",
        "type": "byte"
      },
      {
        "name": "systemAddresses",
        "type": [
          "array",
          {
            "count": 10,
            "type": [
              "container",
              [
                {
                  "name": "address",
                  "type": "ipAddress"
                },
                {
                  "name": "port",
                  "type": "short"
                },
                {
                  "name": "version",
                  "type": "byte"
                }
              ]
            ]
          }
        ]
      },
      {
        "name": "sendPing",
        "type": "long"
      },
      {
        "name": "sendPong",
        "type": "long"
      }
    ]
  ],
  "packet_UNCONNECTED_PING": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      },
      {
        "name": "magic",
        "type": "magic"
      }
    ]
  ],
  "packet_UNCONNECTED_PING_OPEN_CONNECTIONS": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      },
      {
        "name": "magic",
        "type": "magic"
      }
    ]
  ],
  "packet_UNCONNECTED_PONG": [
    "container",
    [
      {
        "name": "pingID",
        "type": "long"
      },
      {
        "name": "serverID",
        "type": "long"
      },
      {
        "name": "magic",
        "type": "magic"
      },
      {
        "name": "serverName",
        "type": "string"
      }
    ]
  ],
  "packet": [
    "container",
    [
      {
        "name": "name",
        "type": [
          "mapper",
          {
            "type": "ubyte",
            "mappings": {
              "0xc0": "ACK",
              "0x0a": "NACK",
              "0x1d": "ADVERTISE_SYSTEM",
              "0x09": "CLIENT_CONNECT_DataPacket",
              "0x15": "CLIENT_DISCONNECT_DataPacket",
              "0x13": "CLIENT_HANDSHAKE_DataPacket",
              "0x06": "OPEN_CONNECTION_REPLY_1",
              "0x08": "OPEN_CONNECTION_REPLY_2",
              "0x05": "OPEN_CONNECTION_REQUEST_1",
              "0x07": "OPEN_CONNECTION_REQUEST_2",
              "0x00": "PING_DataPacket",
              "0x03": "PONG_DataPacket",
              "0x10": "SERVER_HANDSHAKE_DataPacket",
              "0x01": "UNCONNECTED_PING",
              "0x02": "UNCONNECTED_PING_OPEN_CONNECTIONS",
              "0xc1": "UNCONNECTED_PONG"
            }
          }
        ]
      },
      {
        "name": "params",
        "type": [
          "switch",
          {
            "compareTo": "name",
            "fields": {
              "ACK": "packet_ACK",
              "NACK": "packet_NACK",
              "ADVERTISE_SYSTEM": "packet_ADVERTISE_SYSTEM",
              "CLIENT_CONNECT_DataPacket": "packet_CLIENT_CONNECT_DataPacket",
              "CLIENT_DISCONNECT_DataPacket": "packet_CLIENT_DISCONNECT_DataPacket",
              "CLIENT_HANDSHAKE_DataPacket": "packet_CLIENT_HANDSHAKE_DataPacket",
              "OPEN_CONNECTION_REPLY_1": "packet_OPEN_CONNECTION_REPLY_1",
              "OPEN_CONNECTION_REPLY_2": "packet_OPEN_CONNECTION_REPLY_2",
              "OPEN_CONNECTION_REQUEST_1": "packet_OPEN_CONNECTION_REQUEST_1",
              "OPEN_CONNECTION_REQUEST_2": "packet_OPEN_CONNECTION_REQUEST_2",
              "PING_DataPacket": "packet_PING_DataPacket",
              "PONG_DataPacket": "packet_PONG_DataPacket",
              "SERVER_HANDSHAKE_DataPacket": "packet_SERVER_HANDSHAKE_DataPacket",
              "UNCONNECTED_PING": "packet_UNCONNECTED_PING",
              "UNCONNECTED_PING_OPEN_CONNECTIONS": "packet_UNCONNECTED_PING_OPEN_CONNECTIONS",
              "UNCONNECTED_PONG": "packet_UNCONNECTED_PONG"
            }
          }
        ]
      }
    ]
  ]
}
